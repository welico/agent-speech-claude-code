/**
 * List available voices command
 */

import { TextToSpeech } from '../core/tts.js';
import { format, formatRow } from '../utils/format.js';

/**
 * List available voices
 * @returns Exit code (0 = success)
 */
export async function cmdListVoices(): Promise<number> {
  const tts = new TextToSpeech();
  const voices = await tts.getAvailableVoices();

  format('Available voices:');
  format('');
  formatRow(
    ['Name', 'Display Name', 'Language'],
    [16, 20, 15]
  );
  formatRow(
    ['─'.repeat(16), '─'.repeat(20), '─'.repeat(15)],
    [16, 20, 15]
  );

  for (const voice of voices) {
    formatRow(
      [voice.name, voice.displayName, voice.language],
      [16, 20, 15]
    );
  }

  return 0;
}
